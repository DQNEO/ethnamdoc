<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>Ethnamドキュメント</title>
</head>
<body>
<h1>アクション名の決定方法を変更する</h1>
<h2>アクション名の決定方法を変更する</h2>
<p>デフォルトでは、アクション名はフォーム値を利用して以下のように決定されます。</p>
<ol>
<li>フォーム名のうち、名前が&quot;action_&quot;で始まり、且つフォーム値が空ではないものを探します</li>
<li>1.に該当するフォーム名が見つかった場合、そこから先頭の&quot;action_&quot;を除いた部分をアクション名とします</li>
</ol>
<p>アクション名の決定方法は、アプリケーションによっては&quot;index.php?act=foo&quot;等さまざまな方法があると思いますので、Ethnaではこの方法をアプリケーションで自由に決定することが出来るようになっています*1。</p>
<p>具体的には、Ethna_Controller::_getActionName_Form()を適当にオーバーライドすればOKです。例えばアクション名をindex.php?act=fooというようなリクエストで&quot;foo&quot;の部分をアクション名としたい場合は次のように記述します。</p>
<p>Sample_Controller.php:</p>
<pre><code>/**
 * フォームにより要求されたアクション名を返す
 *
 * @access protected
 * @return string フォームにより要求されたアクション名
 */
function _getActionName_Form()
{
    if (array_key_exists('act', $_REQUEST) == false) {
        return null;
    }
    return $_REQUEST['act'];
}</code></pre>
<p>ちなみに、デフォルトでの処理は [こちら](doc/ __filesource/fsource_Ethna__ classEthna_Controller.php.html#a1137)を御覧下さい。</p>
<hr />
<p>*1なお、なぜわざわざ(フォーム値ではなく)わざわざフォーム名を利用しているかと言うと、複数のsubmitボタンでアクションを振り分けることが出来るようにするためなのです(場合によっては必要かな、と  </p>